"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var _regeneratorRuntime=_interopDefault(require("@babel/runtime/regenerator")),_asyncToGenerator=_interopDefault(require("@babel/runtime/helpers/asyncToGenerator")),Vue=_interopDefault(require("vue")),tpl=_interopDefault(require("../components/toast/main")),showToast=!1,toastVm=null,notice=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(showToast)return!1;if(!toastVm){Vue.component("toast",tpl);var a=Vue.extend({render:function(o){return o("toast",{props:{content:e,hasIcon:r,type:t,hasMask:n,show:this.show}})},data:function(){return{show:showToast}}});toastVm=(toastVm=new a).$mount(),document.body.appendChild(toastVm.$el),toastVm.show=showToast=!0,"loading"!==t&&setTimeout(function(){toastVm.show=showToast=!1,setTimeout(function(){var t=toastVm.$el;document.body.removeChild(t),toastVm=null},300)},o)}},toast={loading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"加载中...",e=arguments.length>1?arguments[1]:void 0,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];notice("loading",t,e,o,n,r)},hideloading:function(){var t=_asyncToGenerator(_regeneratorRuntime.mark(function t(){var e;return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{showToast=!1,e=toastVm.$el,setTimeout(function(){document.body.removeChild(e),setTimeout(function(){toastVm=null},200)},300)}catch(t){console.log(t)}case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),info:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;notice("info",t,e,o,n,r)}},index={install:function(t){Object.defineProperty(t.prototype,"$toast",{value:toast})}};exports.default=index,exports.toast=toast;
